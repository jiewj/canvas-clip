<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>canvas-clip</title>
    <style>
        .test {
            position: relative;
            width: 500px;
            height: 500px;
            border: 1px solid #000;
        }
    </style>
<body>
<div class="test" id="test"></div>
<input type="button" value="clip" onclick="Fun()"/>

<script>
  var a =new CanvasClip({
    id: 'test',
    imgUrl: './e_bw.jpg',
    scale: 2/1,
    clipImgMinW: 200,
    clipImgMinH:100
  });
  function Fun(){
    var img = document.getElementById('img');
    if(img){
      img.src = URL.createObjectURL(a.CanvasClipImg());
    }else{
      img = document.createElement('img');
      img.id = 'img';
      img.src = URL.createObjectURL(a.CanvasClipImg());
      document.body.appendChild(img);
    }
  }
</script>
</body>
</html>
